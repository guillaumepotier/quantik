(this.webpackJsonpquantik=this.webpackJsonpquantik||[]).push([[0],{26:function(e,t,a){e.exports=a(92)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),c=(a(31),a(32),a(9)),l=a(7),s=a(22),u=a(24),h=a(23),v=a(25);a(33);var p=function(e){var t=e.type,a=e.color,n=e.allowed,o=e.onPieceClick;return r.a.createElement("div",{className:"Piece Piece--".concat(n?"allowed":"notAllowed"," Piece--").concat(a," Piece--").concat(t),onClick:o})},d=a(1),f=a.n(d),m=function e(t){Object(l.a)(this,e),this.color=t,this.pieces=["square","square","triangle","triangle","circle","circle","cross","cross"]},w=function(e,t,a,n,r){var o,i;for(o=0;o<=3;o++)if(e[o][a]&&e[o][a].piece===n&&e[o][a].color!==r)return!1;for(i=0;i<=3;i++)if(e[t][i]&&e[t][i].piece===n&&e[t][i].color!==r)return!1;var c=y(t,a);for(o=0;o<=3;o++)for(i=0;i<=3;i++)if(e[o][i]&&y(o,i)===c&&e[o][i].piece===n&&e[o][i].color!==r)return!1;return!0},y=function(e,t){return e<=1?t<=1?0:2:t<=1?1:3},b=function(e){var t,a,n=[[],[],[],[]],r=[[],[],[],[]],o=[[],[],[],[]],i=["square","triangle","circle","cross"];for(t=0;t<=3;t++)for(a=0;a<=3;a++){var c=e[t][a].piece;n[t].push(c),r[a].push(c),o[y(t,a)].push(c)}for(var l=0;l<=3;l++){if(4===f()(n[l],i).length)return!0;if(4===f()(r[l],i).length)return!0;if(4===f()(o[l],i).length)return!0}return!1},g=function(e){return[e[0].slice(),e[1].slice(),e[2].slice(),e[3].slice()]},C=function(e){var t=new m(e.color);return t.pieces=e.pieces.slice(),t},k=function(e,t,a,n,r){e[n][r]={piece:a,color:t.color},function(e,t){for(var a,n=0;n<e.pieces.length;n++)if(e.pieces[n]===t){a=n;break}e.pieces.splice(a,1)}(t,a)};window.doMove=k,window.players=[new m("white"),new m("black")];a(86);var E=function(e){var t=e.x,a=e.y,n=e.board,o=e.onCellClick;return r.a.createElement("div",{className:"Cell CellX--".concat(t," CellY--").concat(a," CellZone--").concat(y(t,a)),onClick:o},n&&n[t][a]&&r.a.createElement(p,{type:n[t][a].piece,color:n[t][a].color}))},A=a(8),I=a.n(A),S=function(e,t,a){for(var n=[],r=t[a?1:0],o=I()(r.pieces),i=0;i<=3;i++)for(var c=0;c<=3;c++)if(!e[i][c])for(var l=0;l<o.length;l++){var s=o[l];if(w(e,i,c,s,r.color)){var u=[C(t[0]),C(t[1])],h=g(e),v=u[a?1:0];k(h,v,s,i,c),n.push({board:h,players:u,x:i,y:c,piece:s,color:v.color})}}return n},x=function(e,t,a){var n,r=!1,o=S(e.board,e.players,!0),i=[[{},{},{},{}],[{},{},{},{}],[{},{},{},{}],[{},{},{},{}]];8===e.players[1].pieces.length&&(t=0),7===e.players[1].pieces.length&&t>0&&(t=Math.round(t/2));for(var c=0;c<o.length;c++){var l=o[c],s=O(l.board,t,l.players,!0);i[l.x][l.y][l.piece]=s,(!1===r||s>r||s===r&&Math.random()<.1)&&(r=s,n=l)}return k(e.board,e.players[1],n.piece,n.x,n.y),a?(console.log("playv2 best situation",n.x,n.y,n.piece,r),i):e},P=function(e,t,a,n){for(var r,o=!1,i=0;i<e.length;i++){var c=e[i],l=O(c.board,t,c.players,n);(!1===o||l>o||l===o&&Math.random()<.1)&&(o=l,r=c)}return{best:o,bestSituation:r}},N=function(e,t,a,n){for(var r,o=!1,i=0;i<e.length;i++){var c=e[i],l=O(c.board,t,c.players,n);(!1===o||l<o||l===o&&Math.random()<.1)&&(o=l,r=c)}return{best:o,bestSituation:r}},O=function(e,t,a,n){if(0===t||b(e))return j(e,a,n);var r=S(e,a,!n);if(n){var o=N(r,t-1,0,!1),i=o.best;o.bestSituation;return i}var c=P(r,t-1,0,!0),l=c.best;c.bestSituation;return l},j=function(e,t,a){var n=b(e),r=t[a?1:0];return n?a?1e3-t[1].pieces.length:-1e3+t[0].pieces.length:(a?1:-1)*(r.pieces.length>=5&&I()(r.pieces).length<4?69:100)};window.board=[[!1,!1,!1,{piece:"square",color:"white"}],[!1,!1,!1,!1],[{piece:"triangle",color:"white"},{piece:"circle",color:"black"},!1,!1],[!1,!1,!1,!1]],window.evaluate=j,window.playv2=x,window.getAvailableSituations=S,window.minmaxv2=O,window.maxMinmaxv2=P,window.minMinmaxv2=N;a(91);var M=3,q=function(){return{board:[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],players:[new m("white"),new m("black")],turn:0,choose:!1,iaComputing:!1,needRestart:!1}},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state=Object(c.a)({},q(),{withIA:!0,iaLevel:M}),a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"onCellClick",value:function(e,t){this.state.board[e][t]||this.state.needRestart||this.setState({choose:{x:e,y:t}})}},{key:"onPieceClick",value:function(e,t){var a=this,n=this.state,r=n.choose,o=n.turn,i=n.players,c=n.board,l=r.x,s=r.y,u=i[o%2];if(k(c,u,e,l,s),b(c))return alert("Congrats player ".concat(u.color,"!")),void this.setState({needRestart:!0,choose:!1});this.setState({board:c,turn:o+1,choose:!1},(function(){a.state.withIA&&(a.setState({iaComputing:!0}),setTimeout((function(){return a.IAPlay()}),300))}))}},{key:"IAPlay",value:function(){var e=this,t=new Date,a=x(this.state,this.state.iaLevel),n=new Date;console.log("IA took ".concat(n-t,"ms to play")),this.setState(Object(c.a)({},a,{turn:this.state.turn+1,iaComputing:!1}),(function(){b(e.state.board)&&(alert("Congrats IA!"),e.setState({needRestart:!0,choose:!1}))}))}},{key:"renderGrid",value:function(e){for(var t=this,a=[],n=function(n){for(var o=function(o){a.push(r.a.createElement(E,{key:"".concat(n,":").concat(o),x:n,y:o,board:e,onCellClick:function(){return t.onCellClick(n,o)}}))},i=0;i<=3;i++)o(i)},o=0;o<=3;o++)n(o);return a}},{key:"render",value:function(){var e=this,t=this.state,a=t.board,n=t.players,o=t.turn,i=t.choose,c=i.x,l=i.y,s=n[o%2];return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Board"},this.renderGrid(a)),r.a.createElement("div",{className:"Controls"},r.a.createElement("div",{className:"HumanOrIa"},"Player vs. Player",r.a.createElement("input",{type:"radio",name:"player2",value:"IA",checked:!this.state.withIA,onChange:function(){return e.setState({withIA:!1})}}),"Player vs. IA",r.a.createElement("input",{type:"radio",name:"player2",value:"human",checked:this.state.withIA,onChange:function(){return e.setState({withIA:!0})}})),this.state.withIA&&r.a.createElement("div",{className:"IALevel"},r.a.createElement("label",{htmlFor:"ia_level"},"IA Difficulty"),r.a.createElement("select",{id:"ia_level",name:"ia_level",value:this.state.iaLevel,onChange:function(t){return e.setState({iaLevel:parseInt(t.target.value,10)})}},r.a.createElement("option",{value:2},"Easy"),r.a.createElement("option",{value:M},"Medium"),r.a.createElement("option",{value:5},"Hard"))),!this.state.needRestart&&r.a.createElement("div",null,"Player ",s.color," turn"),this.state.needRestart&&r.a.createElement("button",{onClick:function(){e.setState(q())}},"New game!"),r.a.createElement("div",null,"--"),this.state.iaComputing&&r.a.createElement("div",null,"IA is computing.."),r.a.createElement("div",{className:"Choice"},i&&r.a.createElement("div",null,r.a.createElement("div",null,"Choose"),r.a.createElement("div",{onClick:function(){return e.setState({choose:!1})}},"X"),r.a.createElement("div",null,s.pieces.map((function(t,n){return!!w(a,c,l,t,s.color)&&r.a.createElement(p,{key:n,color:s.color,type:t,allowed:!0,onPieceClick:function(){return e.onPieceClick(t,n)}})})))))))}}]),t}(r.a.Component);var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.c2b26c7f.chunk.js.map