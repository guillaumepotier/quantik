(this.webpackJsonpquantik=this.webpackJsonpquantik||[]).push([[0],{26:function(e,t,n){e.exports=n(92)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},86:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),c=n.n(o),i=(n(31),n(32),n(9)),l=n(6),s=n(22),u=n(24),h=n(23),f=n(25);n(33);var v=function(e){var t=e.type,n=e.color,r=e.allowed,o=e.onPieceClick;return a.a.createElement("div",{className:"Piece Piece--".concat(r?"allowed":"notAllowed"," Piece--").concat(n," Piece--").concat(t),onClick:o})},d=n(7),p=n.n(d),m=function e(t){Object(l.a)(this,e),this.color=t,this.pieces=["square","square","triangle","triangle","circle","circle","cross","cross"]},w=function(e,t,n,r,a){var o,c;for(o=0;o<=3;o++)if(e[o][n]&&e[o][n].piece===r&&e[o][n].color!==a)return!1;for(c=0;c<=3;c++)if(e[t][c]&&e[t][c].piece===r&&e[t][c].color!==a)return!1;var i=y(t,n);for(o=0;o<=3;o++)for(c=0;c<=3;c++)if(e[o][c]&&y(o,c)===i&&e[o][c].piece===r&&e[o][c].color!==a)return!1;return!0},y=function(e,t){return e<=1?t<=1?1:3:t<=1?2:4},b=function(e){var t,n,r=["square","triangle","circle","cross"];for(n=0;n<=3;n++){var a=[];for(t=0;t<=3;t++)a.push(e[t][n].piece);if(4===p()(a,r).length)return!0}for(t=0;t<=3;t++){var o=[];for(n=0;n<=3;n++)o.push(e[t][n].piece);if(4===p()(o,r).length)return!0}for(var c=1;c<=4;c++){var i=[];for(t=0;t<=3;t++)for(n=0;n<=3;n++)y(t,n)===c&&i.push(e[t][n].piece);if(4===p()(i,r).length)return!0}return!1},k=function(e){return[e[0].slice(),e[1].slice(),e[2].slice(),e[3].slice()]},g=function(e){var t=new m(e.color);return t.pieces=e.pieces.slice(),t},C=function(e,t,n,r,a){e[r][a]={piece:n,color:t.color},function(e,t){for(var n,r=0;r<e.pieces.length;r++)if(e.pieces[r]===t){n=r;break}e.pieces.splice(n,1)}(t,n)};window.doMove=C,window.players=[new m("white"),new m("black")];n(86);var E=function(e){var t=e.x,n=e.y,r=e.board,o=e.onCellClick;return a.a.createElement("div",{className:"Cell CellX--".concat(t," CellY--").concat(n," CellZone--").concat(y(t,n)),onClick:o},r&&r[t][n]&&a.a.createElement(v,{type:r[t][n].piece,color:r[t][n].color}))},A=n(8),P=n.n(A),S=function(e,t,n){for(var r=[],a=t[n?1:0],o=P()(a.pieces),c=0;c<=3;c++)for(var i=0;i<=3;i++)if(!e[c][i])for(var l=0;l<o.length;l++){var s=o[l];if(w(e,c,i,s,a.color)){var u=[g(t[0]),g(t[1])],h=k(e),f=u[n?1:0];C(h,f,s,c,i),r.push({board:h,players:u,x:c,y:i,piece:s,color:f.color})}}return r},x=function(e,t,n){var r,a=!1,o=S(e.board,e.players,!0),c=[[{},{},{},{}],[{},{},{},{}],[{},{},{},{}],[{},{},{},{}]];8===e.players[1].pieces.length&&(t=0);for(var i=0;i<o.length;i++){var l=o[i],s=N(l.board,t,l.players,!0);c[l.x][l.y][l.piece]=s,(!1===a||s>a||s===a&&Math.random()<.1)&&(a=s,r=l)}return C(e.board,e.players[1],r.piece,r.x,r.y),n?c:e},I=function(e,t,n,r){for(var a,o=!1,c=0;c<e.length;c++){var i=e[c],l=N(i.board,t,i.players,r);(!1===o||l>o||l===o&&Math.random()<.1)&&(o=l,a=i)}return{best:o,bestSituation:a}},j=function(e,t,n,r){for(var a,o=!1,c=0;c<e.length;c++){var i=e[c],l=N(i.board,t,i.players,r);(!1===o||l<o||l===o&&Math.random()<.1)&&(o=l,a=i)}return{best:o,bestSituation:a}},N=function(e,t,n,r){if(0===t||b(e))return O(e,n,r);var a=S(e,n,!r);if(r){var o=j(a,t-1,0,!1),c=o.best;o.bestSituation;return c}var i=I(a,t-1,0,!0),l=i.best;i.bestSituation;return l},O=function(e,t,n){var r=b(e),a=t[n?1:0];return r?n?1e3-t[1].pieces.length:-1e3+t[0].pieces.length:(n?1:-1)*(a.pieces.length>=5&&P()(a.pieces).length<4?69:100)};window.board=[[!1,!1,!1,{piece:"square",color:"white"}],[!1,!1,!1,!1],[{piece:"triangle",color:"white"},{piece:"circle",color:"black"},!1,!1],[!1,!1,!1,!1]],window.evaluate=O,window.playv2=x,window.getAvailableSituations=S,window.minmaxv2=N,window.maxMinmaxv2=I,window.minMinmaxv2=j;n(91);var q=function(){return{board:[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],players:[new m("white"),new m("black")],turn:0,choose:!1,needRestart:!1}},M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state=Object(i.a)({},q(),{withIA:!0}),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"onCellClick",value:function(e,t){this.state.board[e][t]||this.state.needRestart||this.setState({choose:{x:e,y:t}})}},{key:"onPieceClick",value:function(e,t){var n=this,r=this.state,a=r.choose,o=r.turn,c=r.players,i=r.board,l=a.x,s=a.y,u=c[o%2];if(C(i,u,e,l,s),b(i))return alert("Congrats player ".concat(u.color,"!")),void this.setState({needRestart:!0,choose:!1});this.setState({board:i,turn:o+1,choose:!1},(function(){n.state.withIA&&n.IAPlay()}))}},{key:"IAPlay",value:function(){var e=this,t=new Date,n=x(this.state,3),r=new Date;console.log("IA took ".concat(r-t,"ms to play")),this.setState(Object(i.a)({},n,{turn:this.state.turn+1}),(function(){b(e.state.board)&&(alert("Congrats IA!"),e.setState({needRestart:!0,choose:!1}))}))}},{key:"renderGrid",value:function(e){for(var t=this,n=[],r=function(r){for(var o=function(o){n.push(a.a.createElement(E,{key:"".concat(r,":").concat(o),x:r,y:o,board:e,onCellClick:function(){return t.onCellClick(r,o)}}))},c=0;c<=3;c++)o(c)},o=0;o<=3;o++)r(o);return n}},{key:"render",value:function(){var e=this,t=this.state,n=t.board,r=t.players,o=t.turn,c=t.choose,i=c.x,l=c.y,s=r[o%2];return a.a.createElement("div",{className:"Game"},a.a.createElement("div",{className:"Board"},this.renderGrid(n)),a.a.createElement("div",{className:"Controls"},"Player vs. Player",a.a.createElement("input",{type:"radio",name:"player2",value:"IA",checked:!this.state.withIA,onChange:function(){return e.setState({withIA:!1})}}),"Player vs. IA",a.a.createElement("input",{type:"radio",name:"player2",value:"human",checked:this.state.withIA,onChange:function(){return e.setState({withIA:!0})}}),!this.state.needRestart&&a.a.createElement("div",null,"Player ",s.color," turn"),this.state.needRestart&&a.a.createElement("button",{onClick:function(){e.setState(q())}},"New game!"),a.a.createElement("div",null,"--"),a.a.createElement("div",{className:"Choice"},c&&a.a.createElement("div",null,a.a.createElement("div",null,"Choose"),a.a.createElement("div",{onClick:function(){return e.setState({choose:!1})}},"X"),a.a.createElement("div",null,s.pieces.map((function(t,r){return!!w(n,i,l,t,s.color)&&a.a.createElement(v,{key:r,color:s.color,type:t,allowed:!0,onPieceClick:function(){return e.onPieceClick(t,r)}})})))))))}}]),t}(a.a.Component);var R=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.9e0cc1f9.chunk.js.map