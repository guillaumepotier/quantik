(this.webpackJsonpquantik=this.webpackJsonpquantik||[]).push([[0],{30:function(e,t,n){e.exports=n(98)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),l=n.n(c),o=(n(35),n(36),n(10)),i=n(6),s=n(26),u=n(28),C=n(27),f=n(29);n(37);var m=function(e){var t=e.type,n=e.color,r=e.allowed,c=e.onPieceClick;return a.a.createElement("div",{className:"Piece Piece--".concat(r?"allowed":"notAllowed"," Piece--").concat(n," Piece--").concat(t),onClick:c})};n(38);var h=function(e){var t=e.x,n=e.y,r=e.board,c=e.onCellClick;return a.a.createElement("div",{className:"Cell CellX--".concat(t," CellY--").concat(n),onClick:c},r&&r[t][n]&&a.a.createElement(m,{type:r[t][n].piece,color:r[t][n].color}))};var d=function(e){var t=e.children,n=e.name;return a.a.createElement("div",{className:"Zone Zone--".concat(n)},t)},k=function e(t){Object(i.a)(this,e),this.color=t,this.pieces=["square","square","triangle","triangle","circle","circle","cross","cross"]},v=n(7),p=n.n(v),y=function(e,t,n,r,a){var c,l;for(c=0;c<=3;c++)if(e[c][n]&&e[c][n].piece===r&&e[c][n].color!==a)return!1;for(l=0;l<=3;l++)if(e[t][l]&&e[t][l].piece===r&&e[t][l].color!==a)return!1;var o=E(t,n);for(c=0;c<=3;c++)for(l=0;l<=3;l++)if(e[c][l]&&E(c,l)===o&&e[c][l].piece===r&&e[c][l].color!==a)return!1;return!0},E=function(e,t){return e<=1?t<=1?1:3:t<=1?2:4},b=function(e){var t,n,r=["square","triangle","circle","cross"];for(n=0;n<=3;n++){var a=[];for(t=0;t<=3;t++)a.push(e[t][n].piece);if(4===p()(a,r).length)return!0}for(t=0;t<=3;t++){var c=[];for(n=0;n<=3;n++)c.push(e[t][n].piece);if(4===p()(c,r).length)return!0}for(var l=1;l<=4;l++){var o=[];for(t=0;t<=3;t++)for(n=0;n<=3;n++)E(t,n)===l&&o.push(e[t][n].piece);if(4===p()(o,r).length)return!0}return!1},w=function(e){return[e[0].slice(),e[1].slice(),e[2].slice(),e[3].slice()]},x=function(e){var t=new k(e.color);return t.pieces=e.pieces.slice(),t},g=function(e,t,n,r,a){e[r][a]={piece:n,color:t.color},function(e,t){for(var n,r=0;r<e.pieces.length;r++)if(e.pieces[r]===t){n=r;break}e.pieces.splice(n,1)}(t,n)},P=n(9),A=n.n(P),I=(n(91),function(e,t,n,r,a){if(0===t||b(e))return S(e,n,r,a)}),S=function(e,t,n,r){var a=b(e),c=r?n:t[0];return a?r?1e3-n.pieces.length:-1e3+t[0].pieces.length:c.pieces.length>=5&&A()(c.pieces).length<4?r?-69:69:100},j=(n(97),function(){return{board:[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],players:[new k("white"),new k("black")],turn:0,choose:!1,needRestart:!1}}),N=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(C.a)(t).call(this,e))).state=Object(o.a)({},j(),{withIA:!0}),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"onCellClick",value:function(e,t){this.state.board[e][t]||this.state.needRestart||this.setState({choose:{x:e,y:t}})}},{key:"onPieceClick",value:function(e,t){var n=this,r=this.state,a=r.choose,c=r.turn,l=r.players,o=r.board,i=a.x,s=a.y,u=l[c%2];if(g(o,u,e,i,s),b(o))return alert("Congrats player ".concat(u.color,"!")),void this.setState({needRestart:!0,choose:!1});this.setState({board:o,turn:c+1,choose:!1},(function(){n.state.withIA&&n.IAPlay()}))}},{key:"IAPlay",value:function(){var e=this,t=function(e,t){for(var n=0,r=!1,a=!1,c=Object.assign({},e.players),l=x(c[1]),o=A()(l.pieces),i=0;i<=3;i++)for(var s=0;s<=3;s++){var u=w(e.board);if(!u[i][s])for(var C=0;C<o.length;C++){var f=o[C];if(l=x(c[1]),y(u,i,s,f,l.color)){g(u,l,f,i,s);var m=I(u,t,c,l,!0);console.log("".concat(o[C],":").concat(i,",").concat(s),m),(m>n||m===n&&Math.random()<.1)&&(n=m,r=f,a={x:i,y:s})}}}return console.log("bestScore",n),g(e.board,e.players[1],r,a.x,a.y),e}(this.state,0);this.setState(Object(o.a)({},t,{turn:this.state.turn+1}),(function(){b(e.state.board)&&(alert("Congrats IA!"),e.setState({needRestart:!0,choose:!1}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.board,r=t.players,c=t.turn,l=t.choose,o=l.x,i=l.y,s=r[c%2];return a.a.createElement("div",{className:"Game"},a.a.createElement("div",{className:"Board"},a.a.createElement(d,{name:"3"},a.a.createElement(h,{x:0,y:3,board:n,onCellClick:function(){return e.onCellClick(0,3)}}),a.a.createElement(h,{x:1,y:3,board:n,onCellClick:function(){return e.onCellClick(1,3)}}),a.a.createElement(h,{x:0,y:2,board:n,onCellClick:function(){return e.onCellClick(0,2)}}),a.a.createElement(h,{x:1,y:2,board:n,onCellClick:function(){return e.onCellClick(1,2)}})),a.a.createElement(d,{name:"4"},a.a.createElement(h,{x:2,y:3,board:n,onCellClick:function(){return e.onCellClick(2,3)}}),a.a.createElement(h,{x:3,y:3,board:n,onCellClick:function(){return e.onCellClick(3,3)}}),a.a.createElement(h,{x:2,y:2,board:n,onCellClick:function(){return e.onCellClick(2,2)}}),a.a.createElement(h,{x:3,y:2,board:n,onCellClick:function(){return e.onCellClick(3,2)}})),a.a.createElement(d,{name:"1"},a.a.createElement(h,{x:0,y:1,board:n,onCellClick:function(){return e.onCellClick(0,1)}}),a.a.createElement(h,{x:1,y:1,board:n,onCellClick:function(){return e.onCellClick(1,1)}}),a.a.createElement(h,{x:0,y:0,board:n,onCellClick:function(){return e.onCellClick(0,0)}}),a.a.createElement(h,{x:1,y:0,board:n,onCellClick:function(){return e.onCellClick(1,0)}})),a.a.createElement(d,{name:"2"},a.a.createElement(h,{x:2,y:1,board:n,onCellClick:function(){return e.onCellClick(2,1)}}),a.a.createElement(h,{x:3,y:1,board:n,onCellClick:function(){return e.onCellClick(3,1)}}),a.a.createElement(h,{x:2,y:0,board:n,onCellClick:function(){return e.onCellClick(2,0)}}),a.a.createElement(h,{x:3,y:0,board:n,onCellClick:function(){return e.onCellClick(3,0)}}))),a.a.createElement("div",{className:"Controls"},"Player vs. Player",a.a.createElement("input",{type:"radio",name:"player2",value:"IA",checked:!this.state.withIA,onClick:function(){return e.setState({withIA:!1})}}),"Player vs. IA",a.a.createElement("input",{type:"radio",name:"player2",value:"human",checked:this.state.withIA,onClick:function(){return e.setState({withIA:!0})}}),!this.state.needRestart&&a.a.createElement("div",null,"Player ",s.color," turn"),this.state.needRestart&&a.a.createElement("button",{onClick:function(){e.setState(j())}},"New game!"),a.a.createElement("div",null,"--"),a.a.createElement("div",{className:"Choice"},l&&a.a.createElement("div",null,a.a.createElement("div",null,"Choose"),a.a.createElement("div",{onClick:function(){return e.setState({choose:!1})}},"X"),a.a.createElement("div",null,s.pieces.map((function(t,r){return!!y(n,o,i,t,s.color)&&a.a.createElement(m,{key:r,color:s.color,type:t,allowed:!0,onPieceClick:function(){return e.onPieceClick(t,r)}})})))))))}}]),t}(a.a.Component);var O=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.85bb7586.chunk.js.map